<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon-32x32.png"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;600&display=swap"><title>Authorization | Heseya documentation</title><meta name="description" content="Lorem ipsum">
    <link rel="modulepreload" href="/assets/app.3a4a8f90.js"><link rel="modulepreload" href="/assets/authorization.html.ad9996dc.js"><link rel="modulepreload" href="/assets/authorization.html.07f65cfe.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.fad4a782.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">Heseya documentation</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/introduction" class="" aria-label="Docs"><!--[--><!--]--> Docs <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://heseya.com" rel="noopener noreferrer" target="_blank" aria-label="Heseya"><!--[--><!--]--> Heseya <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/heseya" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/introduction" class="" aria-label="Docs"><!--[--><!--]--> Docs <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://heseya.com" rel="noopener noreferrer" target="_blank" aria-label="Heseya"><!--[--><!--]--> Heseya <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/heseya" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Introduction <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/introduction/" class="sidebar-item" aria-label="About Platform"><!--[--><!--]--> About Platform <!--[--><!--]--></a><!----></li><li><a href="/introduction/versioning.html" class="sidebar-item" aria-label="Versioning"><!--[--><!--]--> Versioning <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">Developer <span class="down arrow"></span></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/developer/" class="router-link-active sidebar-item" aria-label="Get Started"><!--[--><!--]--> Get Started <!--[--><!--]--></a><!----></li><li><a href="/developer/rest-api.html" class="sidebar-item" aria-label="Rest API"><!--[--><!--]--> Rest API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/developer/authorization.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Authorization"><!--[--><!--]--> Authorization <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/developer/authorization.html#basic" class="router-link-active router-link-exact-active sidebar-item" aria-label="Basic"><!--[--><!--]--> Basic <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/developer/authorization.html#types-of-tokens" class="router-link-active router-link-exact-active sidebar-item" aria-label="Types of tokens"><!--[--><!--]--> Types of tokens <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/developer/authorization.html#permissions" class="router-link-active router-link-exact-active sidebar-item" aria-label="Permissions"><!--[--><!--]--> Permissions <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/developer/authorization.html#roles" class="router-link-active router-link-exact-active sidebar-item" aria-label="Roles"><!--[--><!--]--> Roles <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/developer/authorization.html#user-authorization" class="router-link-active router-link-exact-active sidebar-item" aria-label="User authorization"><!--[--><!--]--> User authorization <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/developer/authorization.html#app-authorization" class="router-link-active router-link-exact-active sidebar-item" aria-label="App authorization"><!--[--><!--]--> App authorization <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/developer/apps.html" class="sidebar-item" aria-label="Apps development"><!--[--><!--]--> Apps development <!--[--><!--]--></a><!----></li><li><a href="/developer/webhooks.html" class="sidebar-item" aria-label="Webhooks"><!--[--><!--]--> Webhooks <!--[--><!--]--></a><!----></li><li><a href="/developer/microfrontends.html" class="sidebar-item" aria-label="Micro-frontends"><!--[--><!--]--> Micro-frontends <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Javascript SDK <span class="right arrow"></span></p><!--[--><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/developer/js-sdk/" class="sidebar-item" aria-label="Introduction"><!--[--><!--]--> Introduction <!--[--><!--]--></a><!----></li><li><a href="/developer/js-sdk/config.html" class="sidebar-item" aria-label="Config object"><!--[--><!--]--> Config object <!--[--><!--]--></a><!----></li><li><a href="/developer/js-sdk/api-service.html" class="sidebar-item" aria-label="API Service"><!--[--><!--]--> API Service <!--[--><!--]--></a><!----></li><li><a href="/developer/js-sdk/auth-axios.html" class="sidebar-item" aria-label="Auth Axios Enhancer"><!--[--><!--]--> Auth Axios Enhancer <!--[--><!--]--></a><!----></li><li><a href="/developer/js-sdk/event-bus.html" class="sidebar-item" aria-label="Event bus"><!--[--><!--]--> Event bus <!--[--><!--]--></a><!----></li><li><a href="/developer/js-sdk/type-definitions.html" class="sidebar-item" aria-label="Type definitions"><!--[--><!--]--> Type definitions <!--[--><!--]--></a><!----></li><li><a href="/developer/js-sdk/utils.html" class="sidebar-item" aria-label="Utility functions"><!--[--><!--]--> Utility functions <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="authorization" tabindex="-1"><a class="header-anchor" href="#authorization" aria-hidden="true">#</a> Authorization</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/developer/authorization.html#basic" class="router-link-active router-link-exact-active">Basic</a><ul><li><a aria-current="page" href="/developer/authorization.html#types-of-tokens" class="router-link-active router-link-exact-active">Types of tokens</a></li></ul></li><li><a aria-current="page" href="/developer/authorization.html#permissions" class="router-link-active router-link-exact-active">Permissions</a><ul><li><a aria-current="page" href="/developer/authorization.html#roles" class="router-link-active router-link-exact-active">Roles</a></li></ul></li><li><a aria-current="page" href="/developer/authorization.html#user-authorization" class="router-link-active router-link-exact-active">User authorization</a></li><li><a aria-current="page" href="/developer/authorization.html#app-authorization" class="router-link-active router-link-exact-active">App authorization</a></li></ul></nav><h2 id="basic" tabindex="-1"><a class="header-anchor" href="#basic" aria-hidden="true">#</a> Basic</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>We highly recommend use of <a href="/developer/js-sdk">SDK</a> instead of implementing authorization yourself.</p></div><p>Heseya uses bearer authentication.</p><p>To authenticate, the user must send an <code>Authorization</code> header with prefix <code>Bearer</code> and a token in each request:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Authorization: Bearer &lt;token&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="types-of-tokens" tabindex="-1"><a class="header-anchor" href="#types-of-tokens" aria-hidden="true">#</a> Types of tokens</h3><p>There are several types of tokens, used for different purposes.</p><ul><li><strong>Access Token</strong> - Used by the User for operations on Core API. Only user permissions are checked.</li><li><strong>Integration Token</strong> - Used by application for operations on Core API. Obtained by applications at the time of installation.</li><li><strong>Identity Token</strong> - Used by the User for operations on application. The token would have the user&#39;s privileges for a given integration. It is obtained by the admin dashboard for a given app. Core API creates it (stores the app ID and user ID in it) and passes it to the dashboard. The dashboard further passes the token to microservice or uses it itself for microservice operations. The microservice can use this token to get the given user&#39;s permissions from Core API for the given app.</li></ul><p><img src="/auth/tokens.png" alt="Autrentication diagram"></p><h2 id="permissions" tabindex="-1"><a class="header-anchor" href="#permissions" aria-hidden="true">#</a> Permissions</h2><p>To access certain endpoints, the user/application must have the proper permissions.</p><ul><li>Users can be assigned to roles with right permissions.</li><li>Apps are assigned directly to permissions.</li></ul><h3 id="roles" tabindex="-1"><a class="header-anchor" href="#roles" aria-hidden="true">#</a> Roles</h3><p>Roles can be created without restrictions. If a user has permissions to create roles, he can create roles and give them all the permissions that he himself has. The same for editing and deleting, he can manage roles that have the same or lower privileges.</p><p>System have 3 build-in roles:</p><ul><li><strong>Unauthenticated</strong> - define permissions for non-authorized users</li><li><strong>Authenticated</strong> - every logged user has this role</li><li><strong>Owner</strong> - role with every permission, can&#39;t be edited, at least one user must have it</li></ul><h2 id="user-authorization" tabindex="-1"><a class="header-anchor" href="#user-authorization" aria-hidden="true">#</a> User authorization</h2><p>User can access his token using <code>/auth/login</code> endpoint.</p><h2 id="app-authorization" tabindex="-1"><a class="header-anchor" href="#app-authorization" aria-hidden="true">#</a> App authorization</h2><p>Applications use a different authorization scheme than users.</p><p><img src="/auth/authentication-flow.png" alt="Autrentication diagram"></p><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/developer/rest-api.html" class="" aria-label="Rest API"><!--[--><!--]--> Rest API <!--[--><!--]--></a></span><span class="next"><a href="/developer/apps.html" class="" aria-label="Apps development"><!--[--><!--]--> Apps development <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.3a4a8f90.js" defer></script>
  </body>
</html>
